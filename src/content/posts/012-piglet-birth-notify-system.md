---
template: blog-post
title: 子豚の出産通知システム
slug: /piglet-birth-notify-system
date: 2022-01-15 08:00
description: AR Ruler
featuredImage: /assets/012-piglet-birth-notify-system/piglet-header.png
---

## SORACOM Tech Days 2021 でのプレゼン

今回紹介するのは SORACOM Tech Days 2021 という技術カンファレンス（講演会みたいなもの？）であった話題。

カンファレンスの2日目に IoT チャレンジをした6名によるライトニングトーク（LT: 短いプレゼン）でプレゼンされた事例です。

IoT（Internet of Things）というのは、モノがインターネット経由で通信する仕組みをいいます。

例えば、自宅のエアコンの電源を外出先から入切するとか、スマホで庭の水やりをするとかです。

この IoT にはモノをインターネット接続させる機器やサービスが必要ですが、
その機器やサービスを提供するのが、SORACOM という会社です。

SORACOM Tech Days 2021 | Day 2  
https://www.techdays.soracom.jp/day-2

<br />

## 紹介するシステムの概要

子豚の定期チェックと出産通知を行うシステム

<br />v

## 養豚農家の声

システム作成者の妻の実家が養豚を営んでいて、このような話を聞いたそうです。

```
生まれたばかりの子豚が、寒さを防ぐための保温箱に入らずに
そのまま冷たくなってしまうことがある。
```

<br />

## ひらめき

その時にシステム作成者はひらめいたそうです。

```
豚舎なら電源があるから、
ラズパイと SORACOM で見守りできそうだ。
```

ラズパイとは、超小型の PC のことです。

<br />

## システムの流れ

30分秋期で豚舎の画像を撮影  
↓  
撮影した画像を Lobe で作成した
TensorFlow Lite で画像分析  
↓  
判定結果を画像に記載  
↓  
画像を GoogleDrive に送信  
↓  
子豚が生まれてたら URL を LINE に送信  

`LINE に送信  `
![LINE に送信  ](./assets/012-piglet-birth-notify-system/line.png)

<br />

### Lobe とは

Lobe は、ノーコードで画像判別の機械学習モデルを作成できるツールです。

つまり、プログラミングができない人でもボタンをポチポチしていくだけで、画像判別のシステムが作成できるツールです。

<br />

### TensorFlow とは

TensorFlow は、機械学習（AI と呼ばれるものの1つ）を手軽に使うことができる仕組みのことです。

TensorFlow Lite は、その中でもモバイル向けに特化した機械学習を使う仕組みです。

`Lobe で TensorFlow Lite を使って子豚の有無を判定`
![Lobe で TensorFlow Lite を使って子豚の有無を判定](./assets/012-piglet-birth-notify-system/lobe.png)

<br />

## 課題解決１： 画像が真っ暗

画像を撮影したい時間はおもに夜。

普通のカメラでは暗闇は映らない。照明を付けても親豚のストレスになる。

そこでカメラを **赤外線カメラに変更** して、画像判別できる画像を取得できるようになった。

## 課題解決２： 画像がいつの情報かわからない

撮影した画像を見返す際に、更新日時やファイル名で日時は確認できるけど、一般の人には画像から情報を把握しずらい。

そこで、画像に撮影日時を書き込むようにした。

さらに温度と湿度と子豚の認識率も画像に書き込むことで、画像一枚で情報が伝わるようにした。

<br />

## まとめ

必要は発明の母。作り始めると課題があれこれ出てきて、工夫をすることで解決に導くプロセスこそ楽しい。

定点カメラと画像認識システムの組み合わせで考えれば、他に転用できるシーンがいろいろありそう。
